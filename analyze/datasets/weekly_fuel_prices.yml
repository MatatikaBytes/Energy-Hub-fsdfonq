version: datasets/v0.2
source: analyze/channels/fuel
title: Weekly average road fuel product price
questions: What is the average price of fuel for the last year?
description: |-
  Road fuel and other petroleum product price statistics

  #fuel
metadata: |-
  {
    "name": "price_data",
    "label": "Weekly road fuel prices", 
    "related_table": {
      "columns": [
        {"name": "week_price_date", "label": "Date", "description": "Date"}
      ],
      "aggregates": [
        {"name": "avg_unleaded", "label": "ULSP", "description": "ULSP (Unleaded)"},
        {"name": "avg_diesel", "label": "ULSD", "description": "ULSD (Diesel)"}
      ]
    }
  }
visualisation: |-
  {"chartjs-chart": 
    {"chartType": "line", 
      "options": {
        "scales": {
          "y": {
            "beginAtZero": true
          }
        }
      }
    }
  }
query: |-
  select 
    price_date as "price_data.week_price_date",
    ulsp as "price_data.avg_unleaded",
    ulsd as "price_data.avg_diesel",
    ulsp_duty,
    ulsd_duty
  from vw_fuel_price_wk_avg
  order by price_date;
